import{m as C,u as w,a as y,_ as k,r as _,o as r,c as d,b as t,d as n,w as h,e as f,F as v,f as I,t as m,n as M,g as b,h as F,R as E}from"./index-6b9a18ff.js";import{p as g}from"./productsStore-17cf5cab.js";import{_ as P}from"./logo_brown-bb1bc7d4.js";const O={data(){return{showOverlay:!1,showMobileMenu:!1,cartMenuRight:"-100%",updateProductData:{product_id:"",qty:""},loading:!1,itemsInCartLoaded:!1}},methods:{...C(g,["getItemsFromCart"]),...C(g,["putItemsToCart"]),...C(g,["deleteItemFromCart"]),...C(g,["clearItemsOfCart"]),...C(g,["setProductCategory"]),toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu},showCart(){this.cartMenuRight!=="0%"?(this.cartMenuRight="0%",this.showOverlay=!0):this.cartMenuRight="-100%"},closeCart(){this.cartMenuRight="-100%",this.showOverlay=!1},getCountOfItem(o){return this.itemsInCart.carts.find(c=>c.id===o).qty},async adjustQuantityInCart(o,s,c){try{this.loading=!0;const i=this.getCountOfItem(o);this.updateProductData.product_id=s,this.updateProductData.qty=i+c,await this.putItemsToCart(o,this.updateProductData),this.getItemsFromCart()}catch(i){throw console.log(`調整購物車內的商品數量時, 發生錯誤:${i.message}`),i.message}finally{this.loading=!1}},async deleteOneProductFromCart(o){try{const s=w();this.loading=!0,await this.deleteItemFromCart(o),s.success("已刪除！",{timeout:1500}),this.getItemsFromCart()}catch(s){throw console.log(`刪除購物車內單一品項時, 發生錯誤:${s.message}`),s.message}finally{this.loading=!1}},async clearAllProductsFromCart(){try{const o=w();this.loading=!0,await this.clearItemsOfCart(),o.success("已清空購物車！"),this.getItemsFromCart()}catch(o){throw console.log(`刪除購物車內所有品項時, 發生錯誤:${o.message}`),o.message}finally{this.loading=!1}},async setCategoryToStore(o){this.toggleMobileMenu(),await this.setProductCategory(o)}},computed:{...y(g,["itemsInCart"]),totalPrice(){return!this.itemsInCart||!this.itemsInCart.carts?0:this.itemsInCart.carts.reduce((s,c)=>s+c.final_total,0)}},mounted(){this.getItemsFromCart()},watch:{itemsInCart:{immediate:!0,handler(){this.itemsInCart&&this.itemsInCart.carts&&(this.itemsInCartLoaded=!0)}}}},R={class:"title-closeSign"},D=t("h2",null,"購物車",-1),N=["disabled"],T={key:0,class:"empty-cart"},U=t("span",null," 購物車內沒有任何品項 ",-1),S={class:"go-shopping"},B={key:1,class:"table"},V={class:"cart-list"},G=["src"],z={class:"product-td"},Q={class:"product-content"},x={class:"productName"},j={class:"price"},q={class:"count-field"},J=["disabled","onClick"],L={class:"count"},K=["disabled","onClick"],Y={class:"price-deleteItem"},Z={class:"subTotal"},X={class:"deleteItem"},H=["disabled","onClick"],$={class:"clear-totalPrice"},W={class:"clear-all"},tt=["disabled"],st={class:"totalPrice"},ot=["disabled"],et={key:0,class:"overlay"},at=t("h1",{class:"title","aria-label":"白色的中文字寫著餐廳的名字--米諾可義式餐廳"},"米諾可義式餐廳",-1),nt={class:"nav-links"},lt={class:"menu"},it={class:"cart-count-container"},ct={key:0,class:"cart-count"};function rt(o,s,c,i,l,a){const u=_("router-link"),A=_("font-awesome-icon");return r(),d(v,null,[t("div",{class:"cartMenu",style:M({right:l.cartMenuRight})},[t("div",R,[D,t("button",{type:"button",class:"closeSign",disabled:l.loading,onClick:s[0]||(s[0]=(...e)=>a.closeCart&&a.closeCart(...e))},"X",8,N)]),this.itemsInCart.carts&&!o.itemsInCart.carts.length?(r(),d("div",T,[U,t("div",S,[n(u,{to:"/product",onClick:a.closeCart},{default:h(()=>[f("前往選購")]),_:1},8,["onClick"])])])):(r(),d("table",B,[t("tbody",V,[(r(!0),d(v,null,I(o.itemsInCart.carts,e=>(r(),d("tr",{key:e.id},[t("td",null,[t("img",{src:e.product.imageUrl,alt:""},null,8,G)]),t("td",z,[t("div",Q,[t("div",x,m(e.product.title),1),t("div",j,"$"+m(e.product.price),1),t("div",q,[t("button",{type:"button",class:"minus-sign",disabled:l.loading,onClick:p=>a.adjustQuantityInCart(e.id,e.product.id,-1)},"-",8,J),t("div",L,m(e.qty),1),t("button",{type:"button",class:"plus-sign",disabled:l.loading,onClick:p=>a.adjustQuantityInCart(e.id,e.product.id,1)},"+",8,K)])])]),t("td",null,[t("div",Y,[t("div",Z,"$"+m(e.final_total),1),t("div",X,[t("button",{name:"delete-btn",class:"delete-btn",disabled:l.loading,onClick:p=>a.deleteOneProductFromCart(e.id)}," 刪除 ",8,H)])])])]))),128))]),t("tfoot",null,[t("tr",null,[t("td",null,[t("div",$,[t("div",W,[t("button",{name:"clear-btn",class:"clear-btn",disabled:l.loading,onClick:s[1]||(s[1]=(...e)=>a.clearAllProductsFromCart&&a.clearAllProductsFromCart(...e))}," 清空購物車 ",8,tt)]),t("div",st,"$"+m(a.totalPrice),1)]),t("button",{type:"button",class:"checkout",disabled:l.loading},[n(u,{to:"/checkOrder",onClick:a.closeCart},{default:h(()=>[f("確認訂單")]),_:1},8,["onClick"])],8,ot)])])])]))],4),l.showOverlay?(r(),d("div",et)):b("",!0),t("div",{class:F(["navbar",{"show-mobile-menu":l.showMobileMenu}])},[n(u,{to:"/"},{default:h(()=>[at]),_:1}),t("div",nt,[n(A,{icon:"fa-solid fa-bars",class:"m-menu",onClick:a.toggleMobileMenu},null,8,["onClick"]),t("ul",lt,[t("li",null,[n(u,{class:"links",to:"/aboutUs",onClick:a.toggleMobileMenu},{default:h(()=>[f("關於我們")]),_:1},8,["onClick"])]),t("li",null,[n(u,{class:"links",to:"/booking",onClick:a.toggleMobileMenu},{default:h(()=>[f("線上訂位")]),_:1},8,["onClick"])]),t("li",null,[n(u,{class:"links",to:"/product",onClick:s[2]||(s[2]=e=>a.setCategoryToStore(""))},{default:h(()=>[f("美味餐點")]),_:1})])]),t("div",{class:"cart-icon",onClick:s[3]||(s[3]=(...e)=>a.showCart&&a.showCart(...e))},[n(A,{icon:"fa-solid fa-cart-arrow-down",class:"shopping-cart-arrow"}),t("div",it,[l.itemsInCartLoaded?(r(),d("div",ct,m(o.itemsInCart.carts.length),1)):b("",!0)])])])],2)],64)}const dt=k(O,[["render",rt]]),ut={},ht={class:"footer"},_t={class:"about-brand"},mt=t("div",{class:"about"},[t("div",{class:"title"}," 關於 米諾可義式餐廳 "),t("p",null,"成立於2019年，擁有豐富的義大利料理傳統和創新經驗。我們並堅持以新鮮、優質的食材為基底，搭配專業主廚的精湛廚藝，呈現一系列美味的義大利料理，給您絕佳的美食盛宴。")],-1),gt={class:"brand-social"},Ct={class:"title"},ft=t("img",{src:P,width:"245",height:"49",alt:"咖啡色中文寫著餐廳的名字"},null,-1),At={class:"social-media"},pt={href:"#"},bt={href:"#"},kt={href:"#"},wt={class:"declaration"},vt=t("span",null,"僅供個人練習，無商業用途",-1);function yt(o,s){const c=_("router-link"),i=_("font-awesome-icon");return r(),d("div",ht,[t("div",_t,[mt,t("div",gt,[t("div",Ct,[n(c,{to:"/"},{default:h(()=>[ft]),_:1})]),t("ul",At,[t("li",null,[t("a",pt,[n(i,{icon:"fa-brands fa-square-google-plus",class:"google-plus"})])]),t("li",null,[t("a",bt,[n(i,{icon:"fa-brands fa-twitter",class:"twitter"})])]),t("li",null,[t("a",kt,[n(i,{icon:"fa-brands fa-square-facebook",class:"facebook"})])])])])]),t("div",wt,[vt,n(c,{class:"nav-link",to:"/login"},{default:h(()=>[n(i,{icon:"fa-solid fa-user-gear"})]),_:1})])])}const It=k(ut,[["render",yt]]),Mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAABlBMVEUAAACTXU7EQ/DoAAAAAXRSTlMAQObYZgAAAshJREFUaN7slUFuxCAMADfKgWOewFN4GnnaPiVPyJEDwq1aqcUex6tIPfSwvkEmsT0QeLzDCxEZ0fMin9Gvnyf5iuMSqN/ACD6AT7CCoIpFfmIPMqgcyBDnkCkuMsQ58gy0a0t0xSb9RlcNPAFsGjh9C5EJMRHUiCqhiapYI6ssFuiex8ilIEKPdJkIHGgibCMTaGgibEOcwEpgNdAl+2SX7JNdsk92yT6LB3RoCESIG9AAEdAAEdAAEdAAETFATzRFTzRFTzQlF/ESgEiqpMgjOSrVnKIdQBV0UORQPZ8U2ZW1RqDpEU2fKmGn6UOVPAg8lZVB07v2SsAZ8hWzGExaAZi+il2tZMxkuxjJyN8UgAm+8NhMztUC2VS92NXKVowFinVfzXIWPeZEsRskG6DaPbiZnNXu4mQApcGIMMCO9X8NcMhXFh4YVQErj5yiyl55aGUN8NjbFJCMJ0wlhU+mCOw8tA6V0Lk/zhkY+gYi0PUdRqA5t+BpBhDRZuD4BdJNgJf5OgNl8gRTfQYeU3jAmIF6C4BIM1kjYExAm4H8zwCJAPkzgKLuAlysuwA3DABsOQDYtArAtgeAXw8Afn8F4Dp4Ax/t2bENgzAURVEjCkqP4FEymj1aRvEILikiK3V4+f+6cFCQoD4N0Njv3uCHIHugXwU8PPD6E5A8sJ8DogfaOWDzQJ0CVg88p4DFA2UEBA+EOSDboCPAG8okkGywj4FogzYGNhvUMbAKOBwpFhuUMRBsEAZBtkBHIFO4MY0nAbKByKX4E0QLNDl3HV67CihyDZObm9zt5GfIr5iwaMFoBrMbDHcTtkGaH3HA5AkUvhTOsDzk8hTMYzLP0Txo8yTOozrP8jzscxrguMB5IijARIKRBTMNhh5MRRSbMFdh8KJkVjG6UbbD8MfpkOMj50sOoJxQOcJyxuUQzCmZY7R+rHA/X543Fqf5pNSLxhUAAAAASUVORK5CYII=";const Ft={data(){return{showGoTop:!1}},components:{RouterView:E,NavbarComponent:dt,FooterComponent:It},methods:{goTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){this.showGoTop=window.scrollY>200}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},Et={class:"wrap"};function Pt(o,s,c,i,l,a){const u=_("NavbarComponent"),A=_("RouterView"),e=_("FooterComponent");return r(),d("div",Et,[n(u),n(A),n(e),t("div",null,[l.showGoTop?(r(),d("img",{key:0,class:"go-top",src:Mt,alt:"Go Top",onClick:s[0]||(s[0]=p=>a.goTop())})):b("",!0)])])}const Nt=k(Ft,[["render",Pt]]);export{Nt as default};
