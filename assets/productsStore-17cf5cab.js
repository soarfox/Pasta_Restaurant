import{k as a,l as n}from"./index-6b9a18ff.js";const p=a.create({baseURL:"https://ec-course-api.hexschool.io/v2/api/cheetah116/products/all"}),l=async()=>{try{return(await p.get()).data.products}catch(t){throw console.log("在call all products API時發生錯誤"),t.response}},r=a.create({baseURL:"https://ec-course-api.hexschool.io/v2/api/cheetah116/cart"}),h=async()=>{try{return(await r.get()).data.data}catch(t){throw console.log("在call API 'get shopping cart data' 時發生錯誤"),t.response}},i=async(t,o)=>{try{return(await r.put(`https://ec-course-api.hexschool.io/v2/api/cheetah116/cart/${t}`,{itemId:t,data:o})).data}catch(e){throw console.log("在call API 'put shopping cart data' 時發生錯誤"),e.response}},d=async t=>{try{return(await r.post("https://ec-course-api.hexschool.io/v2/api/cheetah116/cart",{data:t})).data}catch(o){throw console.log("在call API 'post data to shopping cart' 時發生錯誤"),o.response}},u=async t=>{try{return(await r.delete(`https://ec-course-api.hexschool.io/v2/api/cheetah116/cart/${t}`)).data}catch(o){throw console.log("在call API 'delete one item from shopping cart' 時發生錯誤"),o.response}},g=async()=>{try{return(await r.delete("https://ec-course-api.hexschool.io/v2/api/cheetah116/carts")).data}catch(t){throw console.log("在call API 'clear shopping cart' 時發生錯誤"),t.response}},c=a.create({baseURL:"https://ec-course-api.hexschool.io/v2/api/cheetah116/order"}),y=async t=>{try{return(await c.post("https://ec-course-api.hexschool.io/v2/api/cheetah116/order",{data:t})).data}catch(o){throw console.log("在call API 'post data to order' 時發生錯誤"),o.response}},P=async t=>{try{return(await c.post(`https://ec-course-api.hexschool.io/v2/api/cheetah116/pay/${t}`)).data}catch(o){throw console.log("在call API 'submit order to pay' 時發生錯誤"),o.response}},m=n("productsStore",{state:()=>({products:[{id:4,title:"444",engTitle:"444eng",imageUrl:"@/assets/images/product/pestoPasta_cover.webp",price:4},{id:2,title:"222",engTitle:"222eng",imageUrl:"@/assets/images/product/pestoPasta_cover.webp",price:2},{id:3,title:"333",engTitle:"333eng",imageUrl:"@/assets/images/product/pestoPasta_cover.webp",price:3}],allPastaProducts:[],categorizedProducts:{},singleProductData:[],itemsInCart:[],newItemCount:"",userOrderInfo:{},orderResult:"",orderStatus:{},productCategory:""}),getters:{sortProductsByPrice:t=>t.allPastaProducts.sort((o,e)=>o.price-e.price),sortProductsByCategory:t=>t.allPastaProducts.sort((o,e)=>o.category.localeCompare(e.category))},actions:{async getAllProductsAction(){try{const t=await l();this.allPastaProducts=t,this.categorizedProducts=this.allPastaProducts.reduce((o,e)=>{const{category:s}=e;return o[s]||(o[s]=[]),o[s].push(e),o},{})}catch(t){throw console.log("抓取API商品資料時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),t}},getSingleProduct(t){const o=this.allPastaProducts.find(e=>e.id===t);this.singleProductData=o},async getItemsFromCart(){try{const t=await h();this.itemsInCart=t}catch(t){throw console.log("將取出購物車內容時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),t}},async putItemsToCart(t,o){try{const e=await i(t,o);this.newItemCount=e}catch(e){throw console.log("修改購物車商品數量時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),e}},async postItemToCart(t){try{await d(t)}catch(o){throw console.log("加入購物車時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),o}},async deleteItemFromCart(t){try{await u(t)}catch(o){throw console.log("刪除購物車內單一商品資料時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),o}},async clearItemsOfCart(){try{await g()}catch(t){throw console.log("清除購物車內所有商品資料時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),t}},async postCartItemsToOrder(t){try{this.userOrderInfo=t,this.orderResult=await y(t)}catch(o){throw console.log("把購物車資料加入訂單時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),o}},async postItemToPay(t){try{this.orderStatus=await P(t)}catch(o){throw console.log("訂單付款時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),o}},async setProductCategory(t){try{this.productCategory=t}catch(o){throw console.log("把商品分類儲存到store變數時發生錯誤, 錯誤訊息如下, 請洽網站管理員"),o}}}});export{m as p};
