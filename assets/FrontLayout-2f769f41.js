import{m as C,u as k,a as y,_ as v,r as _,o as c,c as d,b as t,d as n,w as h,e as A,F as w,f as M,t as m,n as I,g as b,h as F,R as E}from"./index-2483f6d5.js";import{p as g}from"./productsStore-037340c5.js";const P={data(){return{showOverlay:!1,showMobileMenu:!1,cartMenuRight:"-100%",updateProductData:{product_id:"",qty:""},loading:!1,itemsInCartLoaded:!1}},methods:{...C(g,["getItemsFromCart"]),...C(g,["putItemsToCart"]),...C(g,["deleteItemFromCart"]),...C(g,["clearItemsOfCart"]),...C(g,["setProductCategory"]),toggleMobileMenu(){this.showMobileMenu=!this.showMobileMenu},showCart(){this.showMobileMenu=!1,this.cartMenuRight!=="0%"?(this.cartMenuRight="0%",this.showOverlay=!0):this.cartMenuRight="-100%"},closeCart(o){this.cartMenuRight="-100%",this.showOverlay=!1,o==="checkout"&&this.$router.push({path:"/checkOrder"})},getCountOfItem(o){return this.itemsInCart.carts.find(r=>r.id===o).qty},async adjustQuantityInCart(o,s,r){try{this.loading=!0;const l=this.getCountOfItem(o);if(this.updateProductData.product_id=s,this.updateProductData.qty=l+r,l+r===0)return;await this.putItemsToCart(o,this.updateProductData),this.getItemsFromCart()}catch(l){throw console.log(`調整購物車內的商品數量時, 發生錯誤:${l.message}`),l.message}finally{this.loading=!1}},async deleteOneProductFromCart(o){try{const s=k();this.loading=!0,await this.deleteItemFromCart(o),s.success("已刪除！",{timeout:1500}),this.getItemsFromCart()}catch(s){throw console.log(`刪除購物車內單一品項時, 發生錯誤:${s.message}`),s.message}finally{this.loading=!1}},async clearAllProductsFromCart(){try{const o=k();this.loading=!0,await this.clearItemsOfCart(),o.success("已清空購物車！"),this.getItemsFromCart()}catch(o){throw console.log(`刪除購物車內所有品項時, 發生錯誤:${o.message}`),o.message}finally{this.loading=!1}},async setCategoryToStore(o){this.toggleMobileMenu(),await this.setProductCategory(o)}},computed:{...y(g,["itemsInCart"]),totalPrice(){return!this.itemsInCart||!this.itemsInCart.carts?0:this.itemsInCart.carts.reduce((s,r)=>s+r.final_total,0)}},mounted(){this.getItemsFromCart()},watch:{itemsInCart:{immediate:!0,handler(){this.itemsInCart&&this.itemsInCart.carts&&(this.itemsInCartLoaded=!0)}}}},O={class:"title-closeCart"},R=t("h2",null,"購物車",-1),D=["disabled"],N={key:0,class:"empty-cart"},T=t("span",null," 購物車內沒有任何品項 ",-1),U={class:"go-shopping"},B={key:1,class:"table"},V={class:"cart-list"},S={class:"img-td"},G=["src"],z={class:"product-td"},Q={class:"product-content"},x={class:"productName"},j={class:"price"},q={class:"count-field"},J=["disabled","onClick"],L={class:"count"},K=["disabled","onClick"],Y={class:"total-del-td"},Z={class:"price-deleteItem"},$={class:"subTotal"},X={class:"deleteItem"},H=["disabled","onClick"],W={class:"clear-totalPrice"},tt={class:"clear-all"},st=["disabled"],ot={class:"totalPrice"},et=["disabled"],at={key:0,class:"overlay"},nt=t("h1",{class:"title","aria-label":"白色的中文字寫著餐廳的名字--米諾可義式餐廳"},"米諾可義式餐廳",-1),lt={class:"nav-links"},it={class:"menu"},rt={class:"cart-count-container"},ct={key:0,class:"cart-count"};function dt(o,s,r,l,i,a){const u=_("router-link"),f=_("font-awesome-icon");return c(),d(w,null,[t("div",{class:"cartMenu",style:I({right:i.cartMenuRight})},[t("div",O,[R,t("button",{type:"button",class:"closeCart",disabled:i.loading,onClick:s[0]||(s[0]=(...e)=>a.closeCart&&a.closeCart(...e))},"X",8,D)]),this.itemsInCart.carts&&!o.itemsInCart.carts.length?(c(),d("div",N,[T,t("div",U,[n(u,{to:"/product",onClick:a.closeCart},{default:h(()=>[A("前往選購")]),_:1},8,["onClick"])])])):(c(),d("table",B,[t("tbody",V,[(c(!0),d(w,null,M(o.itemsInCart.carts,e=>(c(),d("tr",{key:e.id},[t("td",S,[t("img",{src:e.product.imageUrl,alt:""},null,8,G)]),t("td",z,[t("div",Q,[t("div",x,m(e.product.title),1),t("div",j,"$"+m(e.product.price),1),t("div",q,[t("button",{type:"button",class:"minus-sign",disabled:i.loading,onClick:p=>a.adjustQuantityInCart(e.id,e.product.id,-1)},"-",8,J),t("div",L,m(e.qty),1),t("button",{type:"button",class:"plus-sign",disabled:i.loading,onClick:p=>a.adjustQuantityInCart(e.id,e.product.id,1)},"+",8,K)])])]),t("td",Y,[t("div",Z,[t("div",$,"$"+m(e.final_total),1),t("div",X,[t("button",{name:"delete-btn",class:"delete-btn",disabled:i.loading,onClick:p=>a.deleteOneProductFromCart(e.id)}," 刪除 ",8,H)])])])]))),128))]),t("tfoot",null,[t("tr",null,[t("td",null,[t("div",W,[t("div",tt,[t("button",{name:"clear-btn",class:"clear-btn",disabled:i.loading,onClick:s[1]||(s[1]=(...e)=>a.clearAllProductsFromCart&&a.clearAllProductsFromCart(...e))}," 清空購物車 ",8,st)]),t("div",ot,"$"+m(a.totalPrice),1)])]),t("td",null,[t("button",{type:"button",name:"submit",class:"checkout",onClick:s[2]||(s[2]=e=>a.closeCart("checkout")),disabled:i.loading},"確認訂單",8,et)])])])]))],4),i.showOverlay?(c(),d("div",at)):b("",!0),t("div",{class:F(["navbar",{"show-mobile-menu":i.showMobileMenu}])},[n(u,{to:"/"},{default:h(()=>[nt]),_:1}),t("div",lt,[n(f,{icon:"fa-solid fa-bars",class:"m-menu",onClick:s[3]||(s[3]=e=>a.toggleMobileMenu())}),t("ul",it,[t("li",null,[n(u,{class:"links",to:"/aboutUs",onClick:a.toggleMobileMenu},{default:h(()=>[A("關於我們")]),_:1},8,["onClick"])]),t("li",null,[n(u,{class:"links",to:"/booking",onClick:a.toggleMobileMenu},{default:h(()=>[A("線上訂位")]),_:1},8,["onClick"])]),t("li",null,[n(u,{class:"links",to:"/product",onClick:s[4]||(s[4]=e=>a.setCategoryToStore(""))},{default:h(()=>[A("美味餐點")]),_:1})])]),t("div",{class:"cart-icon",onClick:s[5]||(s[5]=e=>a.showCart())},[n(f,{icon:"fa-solid fa-cart-arrow-down",class:"shopping-cart-arrow"}),t("div",rt,[i.itemsInCartLoaded?(c(),d("div",ct,m(o.itemsInCart.carts.length),1)):b("",!0)])])])],2)],64)}const ut=v(P,[["render",dt]]),ht="/Pasta_Restaurant/assets/logo_brown-fd01e57b.svg",_t={},mt={class:"footer"},gt={class:"about-brand"},Ct=t("div",{class:"about"},[t("div",{class:"title"}," 關於 米諾可義式餐廳 "),t("p",null,"成立於2019年，擁有豐富的義大利料理傳統和創新經驗。我們並堅持以新鮮、優質的食材為基底，搭配專業主廚的精湛廚藝，呈現一系列美味的義大利料理，給您絕佳的美食盛宴。")],-1),ft={class:"brand-social"},At={class:"title"},pt=t("img",{src:ht,width:"245",height:"49",alt:"咖啡色中文寫著餐廳的名字"},null,-1),bt={class:"social-media"},vt={href:"#"},kt={href:"#"},wt={href:"#"},yt={class:"declaration"},Mt=t("span",null,"僅供個人練習，無商業用途",-1);function It(o,s){const r=_("router-link"),l=_("font-awesome-icon");return c(),d("div",mt,[t("div",gt,[Ct,t("div",ft,[t("div",At,[n(r,{to:"/"},{default:h(()=>[pt]),_:1})]),t("ul",bt,[t("li",null,[t("a",vt,[n(l,{icon:"fa-brands fa-square-google-plus",class:"google-plus"})])]),t("li",null,[t("a",kt,[n(l,{icon:"fa-brands fa-twitter",class:"twitter"})])]),t("li",null,[t("a",wt,[n(l,{icon:"fa-brands fa-square-facebook",class:"facebook"})])])])])]),t("div",yt,[Mt,n(r,{class:"nav-link",to:"/login"},{default:h(()=>[n(l,{icon:"fa-solid fa-user-gear"})]),_:1})])])}const Ft=v(_t,[["render",It]]),Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAABlBMVEUAAACTXU7EQ/DoAAAAAXRSTlMAQObYZgAAAshJREFUaN7slUFuxCAMADfKgWOewFN4GnnaPiVPyJEDwq1aqcUex6tIPfSwvkEmsT0QeLzDCxEZ0fMin9Gvnyf5iuMSqN/ACD6AT7CCoIpFfmIPMqgcyBDnkCkuMsQ58gy0a0t0xSb9RlcNPAFsGjh9C5EJMRHUiCqhiapYI6ssFuiex8ilIEKPdJkIHGgibCMTaGgibEOcwEpgNdAl+2SX7JNdsk92yT6LB3RoCESIG9AAEdAAEdAAEdAAETFATzRFTzRFTzQlF/ESgEiqpMgjOSrVnKIdQBV0UORQPZ8U2ZW1RqDpEU2fKmGn6UOVPAg8lZVB07v2SsAZ8hWzGExaAZi+il2tZMxkuxjJyN8UgAm+8NhMztUC2VS92NXKVowFinVfzXIWPeZEsRskG6DaPbiZnNXu4mQApcGIMMCO9X8NcMhXFh4YVQErj5yiyl55aGUN8NjbFJCMJ0wlhU+mCOw8tA6V0Lk/zhkY+gYi0PUdRqA5t+BpBhDRZuD4BdJNgJf5OgNl8gRTfQYeU3jAmIF6C4BIM1kjYExAm4H8zwCJAPkzgKLuAlysuwA3DABsOQDYtArAtgeAXw8Afn8F4Dp4Ax/t2bENgzAURVEjCkqP4FEymj1aRvEILikiK3V4+f+6cFCQoD4N0Njv3uCHIHugXwU8PPD6E5A8sJ8DogfaOWDzQJ0CVg88p4DFA2UEBA+EOSDboCPAG8okkGywj4FogzYGNhvUMbAKOBwpFhuUMRBsEAZBtkBHIFO4MY0nAbKByKX4E0QLNDl3HV67CihyDZObm9zt5GfIr5iwaMFoBrMbDHcTtkGaH3HA5AkUvhTOsDzk8hTMYzLP0Txo8yTOozrP8jzscxrguMB5IijARIKRBTMNhh5MRRSbMFdh8KJkVjG6UbbD8MfpkOMj50sOoJxQOcJyxuUQzCmZY7R+rHA/X543Fqf5pNSLxhUAAAAASUVORK5CYII=";const Pt={data(){return{showGoTop:!1}},components:{RouterView:E,NavbarComponent:ut,FooterComponent:Ft},methods:{goTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){this.showGoTop=window.scrollY>200}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},Ot={class:"wrap"};function Rt(o,s,r,l,i,a){const u=_("NavbarComponent"),f=_("RouterView"),e=_("FooterComponent");return c(),d("div",Ot,[n(u),n(f),n(e),t("div",null,[i.showGoTop?(c(),d("img",{key:0,class:"go-top",src:Et,alt:"Go Top",onClick:s[0]||(s[0]=p=>a.goTop())})):b("",!0)])])}const Tt=v(Pt,[["render",Rt]]);export{Tt as default};
