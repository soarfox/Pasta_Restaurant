import{p as r}from"./productsStore-037340c5.js";import{_ as P,m as u,u as f,a as v,r as y,o as g,c as m,b as t,d as i,w as _,t as a,e as l,F as C,f as b,i as D}from"./index-2483f6d5.js";const S={data(){return{quantity:1,addProductData:{product_id:"",qty:""},loading:!1}},methods:{...u(r,["getSingleProduct"]),...u(r,["postItemToCart"]),...u(r,["getItemsFromCart"]),...u(r,["setProductCategory"]),getSameCategoryProducts(){const{category:s}=this.singleProductData;return this.sortProductsByPrice.filter(e=>e.category===s&&e.title!==this.singleProductData.title).slice(0,4)},adjustQuantity(s){if(this.quantity===1){const e=s>0?1:0;this.quantity+=e}else this.quantity+=s},async addProductToCart(s,e){const h=f();this.loading=!0,this.addProductData.product_id=s,this.addProductData.qty=e,await this.postItemToCart(this.addProductData),h.success("已加入購物車！"),this.getItemsFromCart(),this.quantity=1,this.loading=!1},async setCategoryToStore(s){await this.setProductCategory(s)}},computed:{...v(r,["singleProductData","sortProductsByPrice"])},mounted(){const s=this.$route.params.id;this.getSingleProduct(s)},watch:{"$route.params.id":{immediate:!0,handler(s){this.getSingleProduct(s)}}}},T={class:"link"},k=t("li",null,"/",-1),q=t("li",null,"/",-1),w={class:"meal-name"},B={class:"detail-info"},I=["src"],V={class:"info"},j={class:"title"},F={class:"description"},N={class:"price"},L={class:"count-addToCart"},Q={class:"count-field"},E=["disabled"],U={class:"count"},A=["disabled"],z={class:"cartBtn"},G=["disabled"],H=D('<div class="shopping-guideLine"><div class="title">購物須知</div><ul class="guideLine"><li><p>1. 在下訂之前，請仔細檢查您選購的義大利麵商品資訊，包括名稱、數量、價格等是否正確無誤。</p></li><li><p>2. 餐點均屬出餐當天即時現作，且因衛生與安全考量，餐點一經確認出單則概不退換貨，並請於收到餐點後當餐食用，以確保口感的新鮮度與衛生。</p></li><li><p>3. 若商品因原物料而短缺而暫時無法販售，我們將主動儘快與您聯繫，屆時您可選擇取消訂單或更換其他商品。</p></li><li><p>4. 若您對商品有任何疑問或需要協助，請隨時與我們聯繫，電話：<a href="tel:+886 2 2200-1234" aria-label="撥打這隻電話號碼給商店業者">(02)2200-1234</a>或是Email：<a href="mailto:soarfox@gmail.com?subject=有關米諾可義式餐廳網站" aria-label="寫電子郵件給商店業者">soarfox@gmail.com</a></p></li></ul></div>',1),J={class:"same-category"},K=t("span",null,"品嚐更多美味料理",-1),M={class:"meals"},O=["src"],R={class:"title"},W={class:"eng-title"},X=t("div",{class:"border-line"},null,-1),Y={class:"price"};function Z(s,e,h,$,d,n){const c=y("router-link"),p=y("font-awesome-icon");return g(),m("main",null,[t("ul",T,[t("li",null,[i(c,{to:"/"},{default:_(()=>[l("餐廳首頁")]),_:1})]),k,t("li",null,[i(c,{to:"/product"},{default:_(()=>[l("美味餐點")]),_:1})]),q,t("li",w,a(s.singleProductData.title),1)]),t("div",B,[t("img",{src:s.singleProductData.imageUrl,alt:""},null,8,I),t("div",V,[i(c,{to:"/product",class:"tag",onClick:e[0]||(e[0]=o=>n.setCategoryToStore(s.singleProductData.category))},{default:_(()=>[l(a(s.singleProductData.category),1)]),_:1}),t("div",j,a(s.singleProductData.title),1),t("div",F,a(s.singleProductData.description),1),t("div",N,[l("售價： "),i(p,{icon:"fa-solid fa-dollar-sign"}),l(" "+a(s.singleProductData.price)+"/份 ",1)]),t("div",L,[t("div",Q,[t("button",{type:"button",class:"minus-sign",disabled:d.loading,onClick:e[1]||(e[1]=o=>n.adjustQuantity(-1))},"-",8,E),t("span",U,a(d.quantity),1),t("button",{type:"button",class:"plus-sign",disabled:d.loading,onClick:e[2]||(e[2]=o=>n.adjustQuantity(1))},"+",8,A)]),t("div",z,[t("button",{class:"button-addToCart",disabled:d.loading,name:"button-addToCart",type:"button",onClick:e[3]||(e[3]=o=>n.addProductToCart(s.singleProductData.id,d.quantity))}," 加入購物車 ",8,G)])])])]),H,t("div",J,[K,t("ul",M,[(g(!0),m(C,null,b(n.getSameCategoryProducts(),o=>(g(),m("li",{key:o.id},[i(c,{to:"/detailedProduct/"+o.id},{default:_(()=>[t("img",{class:"meal-img",src:o.imageUrl,alt:""},null,8,O),t("div",R,a(o.title),1),t("div",W,a(o.category),1),X,t("div",Y,[i(p,{icon:"fa-solid fa-dollar-sign"}),l(" "+a(o.price),1)])]),_:2},1032,["to"])]))),128))])])])}const st=P(S,[["render",Z]]);export{st as default};
