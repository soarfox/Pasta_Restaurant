import{p as n}from"./productsStore-17cf5cab.js";import{_ as p,m as c,u as y,a as P,r as f,o as r,c as u,b as t,d as _,w as g,t as o,F as v,f as C,e as h}from"./index-6b9a18ff.js";const D={data(){return{quantity:1,addProductData:{product_id:"",qty:""},loading:!1}},methods:{...c(n,["getSingleProduct"]),...c(n,["postItemToCart"]),...c(n,["getItemsFromCart"]),getSameCategoryProducts(){const{category:s}=this.singleProductData;return this.sortProductsByPrice.filter(i=>i.category===s&&i.title!==this.singleProductData.title).slice(0,4)},adjustQuantity(s){if(this.quantity===1){const i=s>0?1:0;this.quantity+=i}else this.quantity+=s},async addProductToCart(s,i){const m=y();this.loading=!0,this.addProductData.product_id=s,this.addProductData.qty=i,await this.postItemToCart(this.addProductData),m.success("已加入購物車！"),this.getItemsFromCart(),this.quantity=1,this.loading=!1}},computed:{...P(n,["singleProductData","sortProductsByPrice"])},mounted(){const s=this.$route.params.id;this.getSingleProduct(s)},watch:{"$route.params.id":{immediate:!0,handler(s){this.getSingleProduct(s)}}}},b={class:"link"},k=t("li",null,"/",-1),q=t("li",null,"/",-1),T={class:"meal-name"},S={class:"detail-info"},B=["src"],w={class:"info"},I={href:"./product.html"},F={class:"tag"},V={class:"title"},j={class:"description"},L={class:"price"},N={class:"count-addToCart"},Q={class:"count-field"},E=["disabled"],U={class:"count"},$=["disabled"],A={class:"cartBtn"},z=["disabled"],G=t("div",{class:"shopping-guideLine"},[t("div",{class:"title"},"購物須知"),t("ul",{class:"guideLine"},[t("li",null,[t("p",null,"1. 在下訂之前，請仔細檢查您選購的義大利麵商品資訊，包括名稱、數量、價格等是否正確無誤。")]),t("li",null,[t("p",null,"2. 餐點均屬出餐當天即時現作，且因衛生與安全考量，餐點一經確認出單則概不退換貨，並請於收到餐點後當餐食用，以確保口感的新鮮度與衛生。")]),t("li",null,[t("p",null,"3. 請注意，網站商品價格、庫存等資訊可能不定時更新，因此下單時的價格和庫存可能已經發生變化，若有疑問，請隨時與我們聯繫。")]),t("li",null,[t("p",null,"4. 若商品缺貨，我們將儘快與您聯繫，您可選擇取消訂單或更換其他義大利麵商品。")]),t("li",null,[t("p",null,"5. 若您對商品有任何疑問或需要協助，請隨時與我們聯繫。電話：(02)2200-1234 或是 Email：soarfox@gmail.com")])])],-1),H={class:"same-category"},J=t("span",null,"更多美味料理",-1),K={class:"meals"},M=["src"],O={class:"title"},R={class:"eng-title"},W=t("div",{class:"border-line"},null,-1),X={class:"price"},Y=t("i",{class:"fa-solid fa-dollar-sign dollar-sign"},null,-1);function Z(s,i,m,x,a,l){const d=f("router-link");return r(),u("main",null,[t("ul",b,[t("li",null,[_(d,{to:"/"},{default:g(()=>[h("餐廳首頁")]),_:1})]),k,t("li",null,[_(d,{to:"/product"},{default:g(()=>[h("美味餐點")]),_:1})]),q,t("li",T,o(s.singleProductData.title),1)]),t("div",S,[t("img",{src:s.singleProductData.imageUrl,alt:""},null,8,B),t("div",w,[t("a",I,[t("span",F,o(s.singleProductData.category),1)]),t("div",V,o(s.singleProductData.title),1),t("div",j,o(s.singleProductData.description),1),t("div",L,"售價：$"+o(s.singleProductData.price)+"/份",1),t("div",N,[t("div",Q,[t("button",{type:"button",class:"minus-sign",disabled:a.loading,onClick:i[0]||(i[0]=e=>l.adjustQuantity(-1))},"-",8,E),t("span",U,o(a.quantity),1),t("button",{type:"button",class:"plus-sign",disabled:a.loading,onClick:i[1]||(i[1]=e=>l.adjustQuantity(1))},"+",8,$)]),t("div",A,[t("button",{class:"button-addToCart",disabled:a.loading,name:"button-addToCart",type:"button",onClick:i[2]||(i[2]=e=>l.addProductToCart(s.singleProductData.id,a.quantity))}," 加入購物車 ",8,z)])])])]),G,t("div",H,[J,t("ul",K,[(r(!0),u(v,null,C(l.getSameCategoryProducts(),e=>(r(),u("li",{key:e.id},[_(d,{to:"/detailedProduct/"+e.id},{default:g(()=>[t("img",{class:"meal-img",src:e.imageUrl,alt:""},null,8,M),t("div",O,o(e.title),1),t("div",R,o(e.category),1),W,t("div",X,[Y,h(" $"+o(e.price),1)])]),_:2},1032,["to"])]))),128))])])])}const it=p(D,[["render",Z]]);export{it as default};
